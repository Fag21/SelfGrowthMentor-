{% extends 'base.html' %}
{% block title %}Motivation{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto mt-10">
  <aside class="w-20 glass p-4 flex flex-col items-center justify-between fixed top-16 left-0 h-[calc(100%-4rem)]">
    <div class="space-y-8 mt-6" id="sidebar-div">
      <a href="{% url 'habits:dashboard' %}" title="Dashboard">
         <i class="fa-solid fa-chart-line sidebar-icon" ></i>
      </a>
     
      <a href="{% url 'habits:dashboard' %}" title="Habit Streaks">
        <i class="fa-solid fa-fire sidebar-icon"></i>
      </a>
      <i class="fa-solid fa-seedling sidebar-icon" title="Growth Feed"></i>
      <i class="fa-solid fa-book sidebar-icon" title="Journal"></i>
      <i class="fa-solid fa-heart sidebar-icon" title="Motivation Meter"></i>
      <i class="fa-solid fa-bolt sidebar-icon" title="Quick Actions"></i>
    </div>
  </aside>
  <div class="glass4 p-6 rounded-2xl mb-8 w-100">
    <h1 class="text-3xl font-bold mb-3">ðŸ”¥ Your Motivation Dashboard</h1>
    <p class="text-gray-400">"{{ quote }}" â€” <strong>{{ author }}</strong></p>
  </div>

  <a href="{% url 'motivation:add_motive' %}" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600">âž• Add Motive</a>

  {% for motive in motives %}
  <div class="glass1 mt-6 p-6 rounded-2xl">
    <h2 class="text-xl font-semibold">{{ motive.title }}</h2>
    <p class="text-gray-300 mb-3">{{ motive.description }}</p>
    <div class="w-full bg-gray-800 rounded-full h-3 mb-2">
      <div class="bg-green-500 h-3 rounded-full" style="width: {{ motive.progress }}%;"></div>
    </div>
    <p class="text-sm mb-2">Progress: {{ motive.progress }}% | XP: {{ motive.xp }}</p>

    {% if motive.completed %}
    <button onclick="shareSuccess('{{ motive.title }}')" class="bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600">ðŸŽ‰ Share My Success</button>
    {% endif %}
  </div>
  {% empty %}
  <p class="text-gray-400 mt-5">No motives yet. Add one to get started!</p>
  {% endfor %}

  <div class="glass1 mt-10 p-6 rounded-2xl">
    <h2 class="text-2xl font-semibold mb-2">ðŸ“š Biography of the Week</h2>
    {% if bio_image %}
    <img src="{{ bio_image }}" alt="{{ bio_title }}" class="w-40 h-40 rounded-full mb-3">
    {% endif %}
    <h3 class="text-xl font-semibold">{{ bio_title }}</h3>
    <p class="text-gray-400 mt-2">{{ bio_summary }}</p>
  </div>
</div>

<script>
function shareSuccess(title) {
  navigator.clipboard.writeText(`ðŸŽ‰ I just completed my motive: "${title}" on SelfGrowth! ðŸ’ª`);
  alert("Copied share message to clipboard!");
}
</script>
{% endblock %}
